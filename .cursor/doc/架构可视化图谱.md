# æ¶æ„å¯è§†åŒ–å›¾è°±

> **æ–‡æ¡£è¯´æ˜**: è¿™æ˜¯ä¸€ä»½å®Œæ•´çš„æ¶æ„å¯è§†åŒ–æ–‡æ¡£ï¼Œé€šè¿‡å›¾è¡¨ç›´è§‚å±•ç¤ºæ•´ä¸ªç³»ç»Ÿæ¶æ„

## ğŸ“‹ ç›®å½•

- [ç³»ç»Ÿå…¨æ™¯å›¾](#ç³»ç»Ÿå…¨æ™¯å›¾)
- [æ ¸å¿ƒæ¶æ„å›¾](#æ ¸å¿ƒæ¶æ„å›¾)
- [æ‹–æ‹½ç³»ç»Ÿå›¾](#æ‹–æ‹½ç³»ç»Ÿå›¾)
- [æ•°æ®æµå›¾](#æ•°æ®æµå›¾)
- [æ¨¡å—ä¾èµ–å›¾](#æ¨¡å—ä¾èµ–å›¾)
- [çŠ¶æ€ç®¡ç†å›¾](#çŠ¶æ€ç®¡ç†å›¾)
- [äº¤äº’æµç¨‹å›¾](#äº¤äº’æµç¨‹å›¾)

---

## ğŸŒ ç³»ç»Ÿå…¨æ™¯å›¾

### å®Œæ•´ç³»ç»Ÿæ¶æ„

```mermaid
C4Context
    title Three.js 3D æ¨¡å‹ç¼–è¾‘å™¨ - ç³»ç»Ÿä¸Šä¸‹æ–‡å›¾

    Person(user, "ç”¨æˆ·", "ä½¿ç”¨3Dç¼–è¾‘å™¨çš„è®¾è®¡å¸ˆ/å¼€å‘è€…")

    System(editor, "3Dæ¨¡å‹ç¼–è¾‘å™¨", "åŸºäºVue3+Three.jsçš„åœ¨çº¿3Dç¼–è¾‘ç³»ç»Ÿ")

    System_Ext(storage, "æœ¬åœ°å­˜å‚¨", "LocalStorage + IndexedDB")
    System_Ext(cdn, "CDNèµ„æº", "æ¨¡å‹æ–‡ä»¶ã€è´´å›¾ã€DRACOè§£ç å™¨")

    Rel(user, editor, "ä½¿ç”¨", "HTTPS")
    Rel(editor, storage, "è¯»å†™é…ç½®", "Web API")
    Rel(editor, cdn, "åŠ è½½èµ„æº", "HTTPS")
```

### å…­å±‚æ¶æ„å…¨æ™¯

```mermaid
graph TB
    subgraph "ğŸ¨ è¡¨ç°å±‚ - Presentation Layer"
        direction LR
        P1[Views<br/>5ä¸ªé¡µé¢]
        P2[Layouts<br/>3ä¸ªå¸ƒå±€]
        P3[Components<br/>30+ç»„ä»¶]
    end

    subgraph "ğŸ§© åº”ç”¨å±‚ - Application Layer"
        direction LR
        A1[Composables<br/>84ä¸ª]
        A2[Hooks<br/>ç”Ÿå‘½å‘¨æœŸ]
    end

    subgraph "ğŸ¢ é¢†åŸŸå±‚ - Domain Layer"
        direction LR
        D1[Three.js<br/>åœºæ™¯é¢†åŸŸ]
        D2[Editor<br/>ç¼–è¾‘å™¨é¢†åŸŸ]
        D3[Drag<br/>æ‹–æ‹½é¢†åŸŸ]
        D4[Export<br/>å¯¼å‡ºé¢†åŸŸ]
    end

    subgraph "ğŸ’¾ çŠ¶æ€å±‚ - State Layer"
        direction LR
        S1[Pinia<br/>13ä¸ªStores]
        S2[Computed<br/>è®¡ç®—çŠ¶æ€]
    end

    subgraph "ğŸ”Œ æœåŠ¡å±‚ - Service Layer"
        direction LR
        SV1[Storage<br/>å­˜å‚¨æœåŠ¡]
        SV2[Event<br/>äº‹ä»¶æœåŠ¡]
        SV3[API<br/>æ¥å£æœåŠ¡]
    end

    subgraph "ğŸ—ï¸ åŸºç¡€è®¾æ–½å±‚ - Infrastructure"
        direction LR
        I1[Three.js<br/>0.179+]
        I2[WebGL/<br/>WebGPU]
        I3[IndexedDB]
        I4[LocalStorage]
    end

    P1 & P2 & P3 --> A1 & A2
    A1 & A2 --> D1 & D2 & D3 & D4
    D1 & D2 & D3 & D4 --> S1 & S2
    S1 & S2 --> SV1 & SV2 & SV3
    SV1 & SV2 & SV3 --> I1 & I2 & I3 & I4

    style P1 fill:#e3f2fd
    style P2 fill:#e3f2fd
    style P3 fill:#e3f2fd
    style A1 fill:#f3e5f5
    style A2 fill:#f3e5f5
    style D1 fill:#e8f5e9
    style D2 fill:#e8f5e9
    style D3 fill:#e8f5e9
    style D4 fill:#e8f5e9
    style S1 fill:#fff3e0
    style S2 fill:#fff3e0
```

---

## ğŸ¯ æ ¸å¿ƒæ¶æ„å›¾

### 1. Composables ç”Ÿæ€ç³»ç»Ÿ

```mermaid
graph TB
    subgraph "Core - æ ¸å¿ƒå±‚ (13ä¸ª)"
        C1[useThreeScene]
        C2[useThreeRenderer]
        C3[useThreeCamera]
        C4[useThreeControls]
        C5[useThreeLoader]
        C6[useThreeRaycaster]
        C7[useRenderLoop]
        C8[useEffectComposer]
        C9[useCSS3DRenderer]
        C10[useSceneLifecycle]
        C11[useResourceCleanup]
        C12[useThreeHelper]
        C13[useThreeMath]
    end

    subgraph "Editor - ç¼–è¾‘å™¨å±‚ (40ä¸ª)"
        E1[Material System<br/>6ä¸ªComposables]
        E2[Light System<br/>7ä¸ªComposables]
        E3[Animation System<br/>5ä¸ªComposables]
        E4[Background System<br/>7ä¸ªComposables]
        E5[Effect System<br/>6ä¸ªComposables]
        E6[Geometry System<br/>3ä¸ªComposables]
        E7[Tag System<br/>3ä¸ªComposables]
        E8[Shader System<br/>8ä¸ªComposables]
        E9[Helper System<br/>3ä¸ªComposables]
        E10[Transform System<br/>3ä¸ªComposables]
    end

    subgraph "Drag - æ‹–æ‹½å±‚ (15ä¸ª)"
        DR1[Core<br/>4ä¸ª]
        DR2[Types<br/>5ä¸ª]
        DR3[Utils<br/>6ä¸ª]
    end

    subgraph "Interaction - äº¤äº’å±‚ (10ä¸ª)"
        I1[Selection<br/>3ä¸ª]
        I2[Menu<br/>2ä¸ª]
        I3[Keyboard<br/>3ä¸ª]
        I4[Mouse<br/>3ä¸ª]
        I5[Screen<br/>2ä¸ª]
    end

    subgraph "State - çŠ¶æ€å±‚ (5ä¸ª)"
        ST1[useHistory]
        ST2[useUndo]
        ST3[useRedo]
        ST4[useEditorState]
        ST5[useModelState]
    end

    E1 & E2 & E3 & E4 & E5 --> C1 & C2 & C3
    DR1 & DR2 --> C6
    I1 & I2 & I3 & I4 --> C6
    E1 & E2 & E3 --> ST1

    style C1 fill:#90caf9
    style E1 fill:#a5d6a7
    style DR1 fill:#ffcc80
    style I1 fill:#ce93d8
    style ST1 fill:#fff59d
```

### 2. Pinia Stores æ¶æ„

```mermaid
graph LR
    subgraph "æ ¸å¿ƒStores"
        S1[editorStore<br/>ç¼–è¾‘å™¨æ ¸å¿ƒçŠ¶æ€]
        S2[sceneStore<br/>åœºæ™¯çŠ¶æ€]
        S3[selectionStore<br/>é€‰æ‹©çŠ¶æ€]
    end

    subgraph "åŠŸèƒ½Stores"
        F1[materialStore]
        F2[lightStore]
        F3[animationStore]
        F4[backgroundStore]
        F5[effectStore]
    end

    subgraph "ç‰¹æ€§Stores"
        T1[dragStore<br/>æ‹–æ‹½çŠ¶æ€]
        T2[multiModelStore<br/>å¤šæ¨¡å‹]
        T3[geometryStore<br/>å‡ ä½•ä½“]
        T4[tagStore<br/>æ ‡ç­¾]
        T5[shaderStore<br/>ç€è‰²å™¨]
    end

    subgraph "è¾…åŠ©Stores"
        H1[historyStore<br/>å†å²è®°å½•]
        H2[settingsStore<br/>è®¾ç½®]
    end

    S1 --> S2
    S2 --> S3
    S1 --> F1 & F2 & F3 & F4 & F5
    S1 --> T1 & T2 & T3 & T4 & T5
    S1 --> H1 & H2

    style S1 fill:#ff6b6b
    style S2 fill:#ff6b6b
    style S3 fill:#ff6b6b
    style T1 fill:#ffd93d
    style H1 fill:#6bcf7f
```

---

## ğŸ–±ï¸ æ‹–æ‹½ç³»ç»Ÿå›¾

### 1. æ‹–æ‹½ç³»ç»Ÿå®Œæ•´æ¶æ„

```mermaid
graph TB
    A[useDragCore<br/>ğŸ¯ æ‹–æ‹½æ ¸å¿ƒå¼•æ“]

    subgraph "æ‹–æ‹½ç±»å‹å±‚"
        B1[useModelDrag<br/>ğŸ“¦ æ¨¡å‹æ‹–æ‹½]
        B2[useGeometryDrag<br/>ğŸ”· å‡ ä½•ä½“æ‹–æ‹½]
        B3[useTagDrag<br/>ğŸ·ï¸ æ ‡ç­¾æ‹–æ‹½]
        B4[useShaderDrag<br/>âœ¨ ç€è‰²å™¨æ‹–æ‹½]
        B5[useLibraryDrag<br/>ğŸ“š æ¨¡å‹åº“æ‹–æ‹½]
    end

    subgraph "æ ¸å¿ƒåŠŸèƒ½å±‚"
        C1[useDragState<br/>çŠ¶æ€ç®¡ç†]
        C2[useDragEvents<br/>äº‹ä»¶ç³»ç»Ÿ]
        C3[useDragLifecycle<br/>ç”Ÿå‘½å‘¨æœŸ]
    end

    subgraph "å·¥å…·å±‚"
        D1[useDragPosition<br/>ä½ç½®è®¡ç®—]
        D2[useRaycast<br/>å°„çº¿æ£€æµ‹]
        D3[useDragConstraints<br/>æ‹–æ‹½çº¦æŸ]
        D4[useDragValidation<br/>æœ‰æ•ˆæ€§éªŒè¯]
        D5[useDragAnimation<br/>æ‹–æ‹½åŠ¨ç”»]
        D6[useDragSnapshot<br/>å¿«ç…§ç®¡ç†]
    end

    subgraph "å­˜å‚¨å±‚"
        E1[dragStore<br/>PiniaçŠ¶æ€]
        E2[EventBus<br/>äº‹ä»¶æ€»çº¿]
    end

    A --> B1 & B2 & B3 & B4 & B5
    B1 & B2 & B3 & B4 & B5 --> C1 & C2 & C3
    C1 & C2 & C3 --> D1 & D2 & D3 & D4 & D5 & D6
    D1 & D2 & D3 & D4 & D5 & D6 --> E1 & E2

    style A fill:#ff6b6b,stroke:#333,stroke-width:4px
    style B1 fill:#51cf66
    style B2 fill:#51cf66
    style B3 fill:#51cf66
    style B4 fill:#51cf66
    style B5 fill:#51cf66
    style C1 fill:#74c0fc
    style C2 fill:#74c0fc
    style C3 fill:#74c0fc
    style D1 fill:#ffd43b
    style D2 fill:#ffd43b
    style D3 fill:#ffd43b
    style D4 fill:#ffd43b
    style D5 fill:#ffd43b
    style D6 fill:#ffd43b
```

### 2. äº”ç§æ‹–æ‹½ç±»å‹è¯¦ç»†æµç¨‹

```mermaid
stateDiagram-v2
    [*] --> Idle: åˆå§‹çŠ¶æ€

    Idle --> ModelDrag: æ‹–æ‹½æ¨¡å‹
    Idle --> GeometryDrag: æ‹–æ‹½å‡ ä½•ä½“
    Idle --> TagDrag: æ‹–æ‹½æ ‡ç­¾
    Idle --> ShaderDrag: æ‹–æ‹½ç€è‰²å™¨
    Idle --> LibraryDrag: æ‹–æ‹½æ¨¡å‹åº“

    ModelDrag --> Dragging: dragstart
    GeometryDrag --> Dragging: dragstart
    TagDrag --> Dragging: dragstart
    ShaderDrag --> Dragging: dragstart
    LibraryDrag --> Dragging: dragstart

    Dragging --> RaycastCheck: dropäº‹ä»¶

    RaycastCheck --> CreateModel: å°„çº¿æ£€æµ‹æˆåŠŸ
    RaycastCheck --> ShowWarning: å°„çº¿æ£€æµ‹å¤±è´¥

    CreateModel --> AddToScene: åˆ›å»ºå¯¹è±¡
    AddToScene --> UpdateStore: æ›´æ–°çŠ¶æ€
    UpdateStore --> Idle: å®Œæˆ

    ShowWarning --> Idle: å–æ¶ˆ
```

### 3. æ‹–æ‹½äº¤äº’æ—¶åºå›¾

```mermaid
sequenceDiagram
    autonumber
    participant User as ğŸ‘¤ç”¨æˆ·
    participant UI as æ‹–æ‹½æº
    participant Core as useDragCore
    participant Ray as useRaycast
    participant Valid as useDragValidation
    participant Anim as useDragAnimation
    participant Store as dragStore
    participant Scene as Three.js Scene

    User->>UI: 1. é¼ æ ‡æŒ‰ä¸‹æ‹–æ‹½é¡¹
    UI->>Core: 2. dragstart(item, type)
    Core->>Store: 3. setDragging(true)
    Core->>Store: 4. setDragItem(item)

    loop æ‹–æ‹½ä¸­
        User->>UI: 5. ç§»åŠ¨é¼ æ ‡
        UI->>Core: 6. drag(event)
        Core->>Core: 7. updatePosition()
    end

    User->>UI: 8. é‡Šæ”¾é¼ æ ‡
    UI->>Core: 9. drop(event)
    Core->>Ray: 10. getIntersection()
    Ray-->>Core: 11. è¿”å›3Dåæ ‡

    Core->>Valid: 12. validateDrop()
    Valid-->>Core: 13. éªŒè¯é€šè¿‡

    Core->>Scene: 14. åˆ›å»ºå¯¹è±¡
    Scene-->>Core: 15. å¯¹è±¡åˆ›å»ºæˆåŠŸ

    Core->>Anim: 16. animateDrop()
    Anim-->>Scene: 17. åŠ¨ç”»æ•ˆæœ

    Core->>Store: 18. æ›´æ–°çŠ¶æ€
    Store-->>UI: 19. é€šçŸ¥æ›´æ–°
    UI-->>User: 20. æ˜¾ç¤ºç»“æœ
```

---

## ğŸ“Š æ•°æ®æµå›¾

### 1. å®Œæ•´æ•°æ®æµæ¶æ„

```mermaid
flowchart TB
    Start([ç”¨æˆ·æ“ä½œ]) --> UI{UIç»„ä»¶ç±»å‹}

    UI -->|å·¥å…·æ | Toolbar[Toolbarç»„ä»¶]
    UI -->|ç¼–è¾‘é¢æ¿| EditPanel[EditPanelç»„ä»¶]
    UI -->|æ¨¡å‹é€‰æ‹©| ModelSelector[ModelSelectorç»„ä»¶]
    UI -->|ç”»å¸ƒ| Canvas[Canvasç»„ä»¶]

    Toolbar --> CompToolbar[Composablesè°ƒç”¨]
    EditPanel --> CompPanel[Composablesè°ƒç”¨]
    ModelSelector --> CompSelector[Composablesè°ƒç”¨]
    Canvas --> CompCanvas[Composablesè°ƒç”¨]

    CompToolbar & CompPanel & CompSelector & CompCanvas --> Composables{Composableç±»å‹}

    Composables -->|Three.jsæ ¸å¿ƒ| CoreComp[useThreeSceneç­‰]
    Composables -->|ç¼–è¾‘å™¨åŠŸèƒ½| EditorComp[useMaterialEditorç­‰]
    Composables -->|æ‹–æ‹½ç³»ç»Ÿ| DragComp[useDragCoreç­‰]
    Composables -->|äº¤äº’åŠŸèƒ½| InterComp[useKeyboardç­‰]

    CoreComp & EditorComp & DragComp & InterComp --> StoreUpdate[æ›´æ–°Pinia Store]

    StoreUpdate --> StoreType{Storeç±»å‹}

    StoreType -->|åœºæ™¯| SceneStore
    StoreType -->|ç¼–è¾‘å™¨| EditorStore
    StoreType -->|æ‹–æ‹½| DragStore
    StoreType -->|å…¶ä»–| OtherStores

    SceneStore & EditorStore & DragStore & OtherStores --> Service{æœåŠ¡è°ƒç”¨}

    Service -->|å­˜å‚¨| StorageService
    Service -->|äº‹ä»¶| EventService
    Service -->|API| APIService

    StorageService & EventService & APIService --> Infrastructure{åŸºç¡€è®¾æ–½}

    Infrastructure -->|3Dæ¸²æŸ“| ThreeJS[Three.js Scene]
    Infrastructure -->|æ•°æ®å­˜å‚¨| IndexedDB[(IndexedDB)]
    Infrastructure -->|é…ç½®å­˜å‚¨| LocalStorage[(LocalStorage)]

    ThreeJS --> Render[æ¸²æŸ“åˆ°Canvas]
    IndexedDB --> Persist[æŒä¹…åŒ–æ•°æ®]
    LocalStorage --> Config[ä¿å­˜é…ç½®]

    Render & Persist & Config --> Result([ç»“æœåé¦ˆ])
    Result --> UI

    style Start fill:#ff6b6b
    style UI fill:#4ecdc4
    style Composables fill:#95e1d3
    style StoreUpdate fill:#ffd93d
    style Service fill:#f38181
    style Infrastructure fill:#aa96da
    style Result fill:#51cf66
```

### 2. çŠ¶æ€æ›´æ–°æµç¨‹

```mermaid
sequenceDiagram
    autonumber
    participant UI as UIç»„ä»¶
    participant Comp as Composable
    participant Store as Pinia Store
    participant Getter as Computed Getter
    participant Watcher as Watch/Effect
    participant View as è§†å›¾æ›´æ–°

    UI->>Comp: 1. è°ƒç”¨æ–¹æ³•
    Comp->>Store: 2. ä¿®æ”¹State

    Note over Store: Stateå˜åŒ–è§¦å‘å“åº”å¼æ›´æ–°

    Store->>Getter: 3. è®¡ç®—å±æ€§é‡æ–°è®¡ç®—
    Store->>Watcher: 4. è§¦å‘Watchå›è°ƒ

    Getter->>View: 5. æ›´æ–°ä¾èµ–çš„è§†å›¾
    Watcher->>Comp: 6. æ‰§è¡Œå‰¯ä½œç”¨

    Comp->>UI: 7. è§¦å‘ç»„ä»¶æ›´æ–°
    View->>UI: 8. è§†å›¾é‡æ–°æ¸²æŸ“

    Note over UI: ç”¨æˆ·çœ‹åˆ°æ›´æ–°ç»“æœ
```

---

## ğŸ¨ æ¨¡å—ä¾èµ–å›¾

### 1. Composables ä¾èµ–å…³ç³»

```mermaid
graph TD
    subgraph "ä¸šåŠ¡Composables"
        useMaterialEditor
        useLightEditor
        useAnimationEditor
        useBackgroundEditor
        useEffectComposer_Editor[useEffectComposer]
    end

    subgraph "æ ¸å¿ƒComposables"
        useThreeScene
        useThreeRenderer
        useThreeCamera
        useThreeControls
        useThreeLoader
    end

    subgraph "å·¥å…·Composables"
        useHistory
        useEventBus
        useRaycast
    end

    useMaterialEditor --> useThreeScene
    useMaterialEditor --> useHistory

    useLightEditor --> useThreeScene
    useLightEditor --> useHistory

    useAnimationEditor --> useThreeLoader

    useBackgroundEditor --> useThreeScene
    useBackgroundEditor --> useThreeLoader

    useEffectComposer_Editor --> useThreeRenderer
    useEffectComposer_Editor --> useThreeScene

    useThreeScene --> useEventBus
    useThreeLoader --> useEventBus

    useRaycast --> useThreeCamera
```

### 2. Store ä¾èµ–å…³ç³»

```mermaid
graph TB
    editorStore[editorStore<br/>ç¼–è¾‘å™¨æ ¸å¿ƒ]

    editorStore --> sceneStore[sceneStore<br/>åœºæ™¯ç®¡ç†]
    editorStore --> selectionStore[selectionStore<br/>é€‰æ‹©ç®¡ç†]
    editorStore --> historyStore[historyStore<br/>å†å²è®°å½•]

    sceneStore --> materialStore[materialStore]
    sceneStore --> lightStore[lightStore]
    sceneStore --> animationStore[animationStore]
    sceneStore --> backgroundStore[backgroundStore]

    editorStore --> dragStore[dragStore<br/>æ‹–æ‹½çŠ¶æ€]
    dragStore --> multiModelStore[multiModelStore]
    dragStore --> geometryStore[geometryStore]
    dragStore --> tagStore[tagStore]
    dragStore --> shaderStore[shaderStore]

    editorStore --> effectStore[effectStore<br/>åæœŸæ•ˆæœ]
    editorStore --> settingsStore[settingsStore<br/>è®¾ç½®]

    style editorStore fill:#ff6b6b,stroke:#333,stroke-width:3px
    style sceneStore fill:#51cf66
    style dragStore fill:#ffd93d
    style historyStore fill:#74c0fc
```

---

## ğŸ¬ äº¤äº’æµç¨‹å›¾

### 1. æ¨¡å‹åŠ è½½å®Œæ•´æµç¨‹

```mermaid
flowchart TD
    Start([ç”¨æˆ·é€‰æ‹©æ¨¡å‹]) --> CheckMode{æ£€æŸ¥ç¼–è¾‘æ¨¡å¼}

    CheckMode -->|å•æ¨¡å‹æ¨¡å¼| SingleMode[ç‚¹å‡»åŠ è½½]
    CheckMode -->|å¤šæ¨¡å‹æ¨¡å¼| MultiMode[æ‹–æ‹½åŠ è½½]
    CheckMode -->|å¤–éƒ¨æ¨¡å‹| Upload[æ–‡ä»¶ä¸Šä¼ ]

    SingleMode --> SetLoading[æ˜¾ç¤ºåŠ è½½çŠ¶æ€]
    MultiMode --> DragDrop[æ‹–æ‹½åˆ°åœºæ™¯]
    Upload --> FileReader[è¯»å–æ–‡ä»¶]

    DragDrop --> Raycast[å°„çº¿æ£€æµ‹ä½ç½®]
    Raycast --> SetLoading
    FileReader --> SetLoading

    SetLoading --> CheckType{æ–‡ä»¶ç±»å‹?}

    CheckType -->|GLB/GLTF| LoadGLTF[GLTFLoader]
    CheckType -->|FBX| LoadFBX[FBXLoader]
    CheckType -->|OBJ| LoadOBJ[OBJLoader]
    CheckType -->|STL| LoadSTL[STLLoader]

    LoadGLTF --> NeedDRACO{éœ€è¦DRACO?}
    NeedDRACO -->|æ˜¯| SetupDRACO[é…ç½®DRACOLoader]
    NeedDRACO -->|å¦| Loading
    SetupDRACO --> Loading
    LoadFBX --> Loading
    LoadOBJ --> Loading
    LoadSTL --> CreateMesh[åˆ›å»ºMesh]
    CreateMesh --> Loading

    Loading[æ‰§è¡ŒåŠ è½½] --> Progress[æ›´æ–°è¿›åº¦]
    Progress --> Parse[è§£æç»“æœ]

    Parse --> CalcBounds[è®¡ç®—è¾¹ç•Œç›’]
    CalcBounds --> AutoScale[è‡ªåŠ¨ç¼©æ”¾]
    AutoScale --> SetPosition[è®¾ç½®ä½ç½®]

    SetPosition --> ExtractMaterials[æå–æè´¨åˆ—è¡¨]
    ExtractMaterials --> SaveOriginal[ä¿å­˜åŸå§‹æè´¨]
    SaveOriginal --> ExtractAnimations[æå–åŠ¨ç”»åˆ—è¡¨]

    ExtractAnimations --> AddToScene[æ·»åŠ åˆ°åœºæ™¯]
    AddToScene --> UpdateOutline[æ›´æ–°è½®å»“Pass]
    UpdateOutline --> UpdateStore[æ›´æ–°Pinia Store]

    UpdateStore --> ClearLoading[æ¸…é™¤åŠ è½½çŠ¶æ€]
    ClearLoading --> TriggerEvents[è§¦å‘äº‹ä»¶]
    TriggerEvents --> End([åŠ è½½å®Œæˆ])

    Loading -->|åŠ è½½å¤±è´¥| Error[é”™è¯¯å¤„ç†]
    Error --> ShowMessage[æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯]
    ShowMessage --> ClearLoading

    style Start fill:#ffd93d
    style End fill:#51cf66
    style Error fill:#ff6b6b
```

### 2. æè´¨ç¼–è¾‘æµç¨‹

```mermaid
flowchart LR
    Start([ç”¨æˆ·ç‚¹å‡»æè´¨]) --> SelectMesh[é€‰æ‹©Mesh]
    SelectMesh --> Highlight[æ˜¾ç¤ºè½®å»“é«˜äº®]
    Highlight --> UpdateStore[æ›´æ–°Store]
    UpdateStore --> ShowPanel[æ˜¾ç¤ºæè´¨é¢æ¿]

    ShowPanel --> EditActions{ç¼–è¾‘æ“ä½œ}

    EditActions -->|ä¿®æ”¹é¢œè‰²| ColorPicker[é¢œè‰²é€‰æ‹©å™¨]
    EditActions -->|è°ƒæ•´é€æ˜åº¦| OpacitySlider[é€æ˜åº¦æ»‘å—]
    EditActions -->|åˆ‡æ¢ç±»å‹| TypeSelector[ç±»å‹é€‰æ‹©å™¨]
    EditActions -->|åŠ è½½è´´å›¾| TextureUpload[è´´å›¾ä¸Šä¼ ]

    ColorPicker --> SaveHistory[ä¿å­˜åˆ°å†å²]
    OpacitySlider --> SaveHistory
    TypeSelector --> SaveHistory
    TextureUpload --> SaveHistory

    SaveHistory --> ApplyMaterial[åº”ç”¨åˆ°æè´¨]
    ApplyMaterial --> RenderScene[è§¦å‘æ¸²æŸ“]
    RenderScene --> End([å®Œæˆ])

    style Start fill:#ffd93d
    style EditActions fill:#74c0fc
    style SaveHistory fill:#ff6b6b
    style End fill:#51cf66
```

### 3. è¾‰å…‰æ•ˆæœæ¸²æŸ“æµç¨‹

```mermaid
flowchart TD
    Start([å¯ç”¨è¾‰å…‰]) --> CheckConfig{æ£€æŸ¥é…ç½®}

    CheckConfig --> CreateComposer[åˆ›å»ºEffectComposer]
    CreateComposer --> AddRenderPass[æ·»åŠ RenderPass]
    AddRenderPass --> AddBloomPass[æ·»åŠ UnrealBloomPass]

    AddBloomPass --> CreateShader[åˆ›å»ºè¾‰å…‰ç€è‰²å™¨]
    CreateShader --> AddShaderPass[æ·»åŠ ShaderPass]

    AddShaderPass --> RenderLoop{æ¸²æŸ“å¾ªç¯}

    RenderLoop --> SaveMaterials[ä¿å­˜éè¾‰å…‰æè´¨]
    SaveMaterials --> ReplaceMaterials[æ›¿æ¢ä¸ºé»‘è‰²æè´¨]
    ReplaceMaterials --> RenderBloom[æ¸²æŸ“è¾‰å…‰åœºæ™¯]

    RenderBloom --> RestoreMaterials[æ¢å¤åŸå§‹æè´¨]
    RestoreMaterials --> RenderFinal[æ¸²æŸ“æœ€ç»ˆåœºæ™¯]

    RenderFinal --> Composite[åˆæˆè¾‰å…‰æ•ˆæœ]
    Composite --> Display[æ˜¾ç¤ºåˆ°Canvas]

    Display --> RenderLoop

    style Start fill:#ffd93d
    style RenderLoop fill:#74c0fc
    style Composite fill:#ff6b6b
    style Display fill:#51cf66
```

---

## ğŸ—ï¸ ç»„ä»¶æ¶æ„å›¾

### 1. ç»„ä»¶å±‚æ¬¡æ ‘

```mermaid
graph TB
    App[App.vue<br/>æ ¹ç»„ä»¶]

    App --> Router[RouterView]

    Router --> EditLayout[EditorLayout<br/>ç¼–è¾‘å™¨å¸ƒå±€]
    Router --> VRLayout[VRLayout<br/>VRå¸ƒå±€]

    EditLayout --> EditorView[EditorView<br/>ç¼–è¾‘å™¨ä¸»è§†å›¾]
    VRLayout --> VRView[VRView<br/>VRè§†å›¾]

    EditorView --> Toolbar[Toolbar<br/>å·¥å…·æ ]
    EditorView --> Sidebar[ModelSelector<br/>ä¾§è¾¹æ ]
    EditorView --> Canvas[ThreeCanvas<br/>ç”»å¸ƒ]
    EditorView --> Panel[EditPanel<br/>ç¼–è¾‘é¢æ¿]

    Toolbar --> FileMenu[FileMenu]
    Toolbar --> EditMenu[EditMenu]
    Toolbar --> ViewMenu[ViewMenu]

    Sidebar --> ModelList[ModelList<br/>æ¨¡å‹åˆ—è¡¨]
    Sidebar --> GeometryList[GeometryList<br/>å‡ ä½•ä½“åˆ—è¡¨]
    Sidebar --> Upload[ModelUpload<br/>ä¸Šä¼ ç»„ä»¶]

    Canvas --> Grid[CanvasGrid]
    Canvas --> Overlay[CanvasOverlay]

    Panel --> BgPanel[BackgroundPanel]
    Panel --> MatPanel[MaterialPanel]
    Panel --> LightPanel[LightPanel]
    Panel --> AnimPanel[AnimationPanel]
    Panel --> EffectPanel[EffectPanel]
    Panel --> AttrPanel[AttributePanel]
    Panel --> GeoPanel[GeometryPanel]
    Panel --> TagPanel[TagPanel]
    Panel --> MultiPanel[MultiModelPanel]
    Panel --> ShaderPanel[ShaderPanel]

    style App fill:#ff6b6b,stroke:#333,stroke-width:4px
    style EditLayout fill:#74c0fc
    style EditorView fill:#51cf66
    style Toolbar fill:#ffd93d
    style Panel fill:#ff9ff3
```

### 2. ç¼–è¾‘é¢æ¿ç»„ä»¶å…³ç³»

```mermaid
graph LR
    EditPanel[EditPanel<br/>ç¼–è¾‘é¢æ¿ä¸»ç»„ä»¶]

    EditPanel --> Tabs[TabBar<br/>é€‰é¡¹å¡]
    EditPanel --> Content[PanelContent<br/>å†…å®¹åŒº]

    Content --> BgPanel[BackgroundPanel<br/>èƒŒæ™¯ç¼–è¾‘]
    Content --> MatPanel[MaterialPanel<br/>æè´¨ç¼–è¾‘]
    Content --> LightPanel[LightPanel<br/>ç¯å…‰ç¼–è¾‘]
    Content --> AnimPanel[AnimationPanel<br/>åŠ¨ç”»ç¼–è¾‘]
    Content --> EffectPanel[EffectPanel<br/>åæœŸæ•ˆæœ]
    Content --> AttrPanel[AttributePanel<br/>å±æ€§ç¼–è¾‘]
    Content --> GeoPanel[GeometryPanel<br/>å‡ ä½•ä½“ç¼–è¾‘]
    Content --> TagPanel[TagPanel<br/>æ ‡ç­¾ç¼–è¾‘]
    Content --> MultiPanel[MultiModelPanel<br/>å¤šæ¨¡å‹ç¼–è¾‘]
    Content --> ShaderPanel[ShaderPanel<br/>ç€è‰²å™¨ç¼–è¾‘]

    BgPanel --> useBackgroundEditor
    MatPanel --> useMaterialEditor
    LightPanel --> useLightEditor
    AnimPanel --> useAnimationPlayer
    EffectPanel --> useBloomEffect

    style EditPanel fill:#ff6b6b,stroke:#333,stroke-width:3px
    style BgPanel fill:#51cf66
    style MatPanel fill:#51cf66
    style LightPanel fill:#51cf66
```

---

## ğŸ”„ çŠ¶æ€ç®¡ç†å›¾

### 1. Store æ•°æ®æµ

```mermaid
flowchart TB
    subgraph "Actionsè§¦å‘"
        A1[ç»„ä»¶è°ƒç”¨Action]
        A2[Composableè°ƒç”¨Action]
    end

    A1 & A2 --> StoreAction[Store Actionæ‰§è¡Œ]

    StoreAction --> UpdateState[æ›´æ–°State]

    UpdateState --> TriggerGetter{è§¦å‘Getter}
    TriggerGetter --> ComputedUpdate[Computedé‡æ–°è®¡ç®—]

    ComputedUpdate --> NotifyComponents[é€šçŸ¥è®¢é˜…ç»„ä»¶]

    NotifyComponents --> C1[ç»„ä»¶Aé‡æ–°æ¸²æŸ“]
    NotifyComponents --> C2[ç»„ä»¶Bé‡æ–°æ¸²æŸ“]
    NotifyComponents --> C3[ç»„ä»¶Cé‡æ–°æ¸²æŸ“]

    UpdateState --> TriggerWatch{è§¦å‘Watch}
    TriggerWatch --> WatchCallback[Watchå›è°ƒæ‰§è¡Œ]
    WatchCallback --> SideEffects[å‰¯ä½œç”¨å¤„ç†]

    SideEffects --> Persist[æŒä¹…åŒ–åˆ°Storage]
    SideEffects --> EventEmit[è§¦å‘äº‹ä»¶]

    style StoreAction fill:#ff6b6b
    style UpdateState fill:#ffd93d
    style ComputedUpdate fill:#74c0fc
    style NotifyComponents fill:#51cf66
```

### 2. å†å²è®°å½•ç³»ç»Ÿ

```mermaid
stateDiagram-v2
    [*] --> Idle: åˆå§‹çŠ¶æ€

    Idle --> Recording: æ‰§è¡Œæ“ä½œ

    Recording --> SaveToHistory: ä¿å­˜åˆ°pastæ•°ç»„
    SaveToHistory --> ClearFuture: æ¸…ç©ºfutureæ•°ç»„
    ClearFuture --> Idle: å®Œæˆ

    Idle --> Undoing: Ctrl+Z
    Undoing --> PopPast: ä»pastå¼¹å‡º
    PopPast --> ExecuteUndo: æ‰§è¡Œundo()
    ExecuteUndo --> PushFuture: æ¨å…¥future
    PushFuture --> Idle

    Idle --> Redoing: Ctrl+Y
    Redoing --> PopFuture: ä»futureå¼¹å‡º
    PopFuture --> ExecuteRedo: æ‰§è¡Œexecute()
    ExecuteRedo --> PushPast: æ¨å…¥past
    PushPast --> Idle

    note right of Recording
        æ¯æ¬¡æ“ä½œéƒ½è®°å½•:
        - type: æ“ä½œç±»å‹
        - execute: æ‰§è¡Œå‡½æ•°
        - undo: æ’¤é”€å‡½æ•°
        - timestamp: æ—¶é—´æˆ³
    end note
```

---

## ğŸ® Three.js åœºæ™¯å›¾

### 1. åœºæ™¯å¯¹è±¡å±‚æ¬¡

```mermaid
graph TB
    Scene[THREE.Scene<br/>æ ¹åœºæ™¯]

    Scene --> Model[Model Group<br/>ä¸»æ¨¡å‹ç»„]
    Scene --> MultiModel[MultiModel Group<br/>å¤šæ¨¡å‹ç»„]
    Scene --> Geometry[Geometry Group<br/>å‡ ä½•ä½“ç»„]
    Scene --> Lights[Lights<br/>ç¯å…‰]
    Scene --> Helpers[Helpers<br/>è¾…åŠ©å¯¹è±¡]
    Scene --> Tags[CSS3D Objects<br/>3Dæ ‡ç­¾]
    Scene --> Shaders[Shader Meshes<br/>ç€è‰²å™¨ç½‘æ ¼]

    Model --> Mesh1[Mesh 1]
    Model --> Mesh2[Mesh 2]
    Model --> MeshN[Mesh N]

    MultiModel --> SubModel1[Model 1]
    MultiModel --> SubModel2[Model 2]
    MultiModel --> SubModelN[Model N]

    Geometry --> Geo1[Box]
    Geometry --> Geo2[Sphere]
    Geometry --> GeoN[...]

    Lights --> Ambient[AmbientLight]
    Lights --> Directional[DirectionalLight]
    Lights --> Point[PointLight]
    Lights --> Spot[SpotLight]

    Helpers --> Grid[GridHelper]
    Helpers --> Axes[AxesHelper]
    Helpers --> LightHelpers[Light Helpers]

    Tags --> Tag1[Tag 1]
    Tags --> Tag2[Tag 2]

    Shaders --> Warning[Warning Shader]
    Shaders --> Compass[Compass Shader]
    Shaders --> Radar[Radar Shader]

    style Scene fill:#ff6b6b,stroke:#333,stroke-width:4px
    style Model fill:#51cf66
    style MultiModel fill:#ffd93d
    style Lights fill:#74c0fc
    style Shaders fill:#ff9ff3
```

### 2. æ¸²æŸ“ç®¡çº¿

```mermaid
flowchart LR
    subgraph "æ¸²æŸ“å‡†å¤‡"
        P1[æ›´æ–°ç›¸æœº]
        P2[æ›´æ–°æ§åˆ¶å™¨]
        P3[æ›´æ–°åŠ¨ç”»]
        P4[æ›´æ–°ç€è‰²å™¨]
    end

    P1 & P2 & P3 & P4 --> RenderPass[RenderPass<br/>åŸºç¡€æ¸²æŸ“]

    RenderPass --> OutlinePass[OutlinePass<br/>è½®å»“é«˜äº®]

    OutlinePass --> BloomCheck{è¾‰å…‰å¼€å¯?}

    BloomCheck -->|æ˜¯| BloomRender[è¾‰å…‰æ¸²æŸ“]
    BloomCheck -->|å¦| DirectRender

    BloomRender --> FilterMaterials[è¿‡æ»¤æè´¨]
    FilterMaterials --> BloomComposer[BloomComposer]
    BloomComposer --> RestoreMaterials[æ¢å¤æè´¨]
    RestoreMaterials --> MergeBloom[åˆå¹¶è¾‰å…‰]
    MergeBloom --> DirectRender

    DirectRender[MainComposer] --> OutputPass[OutputPass]
    OutputPass --> FXAA[FXAAPass<br/>æŠ—é”¯é½¿]

    FXAA --> CSS3DCheck{æœ‰3Dæ ‡ç­¾?}

    CSS3DCheck -->|æ˜¯| CSS3DRender[CSS3DRenderer]
    CSS3DCheck -->|å¦| FinalOutput

    CSS3DRender --> FinalOutput[Canvasè¾“å‡º]

    style RenderPass fill:#51cf66
    style BloomComposer fill:#ff6b6b
    style OutputPass fill:#74c0fc
    style FinalOutput fill:#ffd93d
```

---

## ğŸ¯ åŠŸèƒ½æ¨¡å—å›¾

### 1. æè´¨ç³»ç»Ÿæ¶æ„

```mermaid
graph TB
    MatSystem[æè´¨ç³»ç»Ÿ]

    subgraph "æè´¨ç±»å‹"
        MT1[MeshBasicMaterial]
        MT2[MeshLambertMaterial]
        MT3[MeshPhongMaterial]
        MT4[MeshStandardMaterial]
        MT5[MeshPhysicalMaterial]
        MT6[MeshToonMaterial]
        MT7[MeshMatcapMaterial]
        MT8[Default Material]
    end

    subgraph "æè´¨å±æ€§"
        MA1[color é¢œè‰²]
        MA2[opacity é€æ˜åº¦]
        MA3[wireframe çº¿æ¡†]
        MA4[depthWrite æ·±åº¦å†™å…¥]
        MA5[side é¢]
        MA6[transparent é€æ˜]
    end

    subgraph "è´´å›¾ç®¡ç†"
        TX1[map åŸºç¡€è´´å›¾]
        TX2[normalMap æ³•çº¿]
        TX3[roughnessMap ç²—ç³™åº¦]
        TX4[metalnessMap é‡‘å±åº¦]
        TX5[emissiveMap å‘å…‰]
    end

    subgraph "æ“ä½œåŠŸèƒ½"
        OP1[é€‰æ‹©æè´¨]
        OP2[ä¿®æ”¹å±æ€§]
        OP3[åˆ‡æ¢ç±»å‹]
        OP4[åŠ è½½è´´å›¾]
        OP5[æ‰¹é‡åº”ç”¨]
        OP6[é‡ç½®æè´¨]
    end

    MatSystem --> MT1 & MT2 & MT3 & MT4 & MT5 & MT6 & MT7 & MT8
    MatSystem --> MA1 & MA2 & MA3 & MA4 & MA5 & MA6
    MatSystem --> TX1 & TX2 & TX3 & TX4 & TX5
    MatSystem --> OP1 & OP2 & OP3 & OP4 & OP5 & OP6
```

### 2. ç¯å…‰ç³»ç»Ÿæ¶æ„

```mermaid
mindmap
  root((ç¯å…‰ç³»ç»Ÿ))
    ç¯å¢ƒå…‰ AmbientLight
      åŸºç¡€å±æ€§
        é¢œè‰² color
        å¼ºåº¦ intensity
        å¯ç”¨ enabled
      æ“ä½œ
        åˆ›å»º
        æ›´æ–°
        åˆ é™¤
    å¹³è¡Œå…‰ DirectionalLight
      åŸºç¡€å±æ€§
        é¢œè‰² color
        å¼ºåº¦ intensity
        ä½ç½® position
      é˜´å½±
        castShadow
        shadow.mapSize
        shadow.camera
      è¾…åŠ©
        DirectionalLightHelper
        helper.visible
      æ“ä½œ
        åˆ›å»º
        æ›´æ–°ä½ç½®
        æ›´æ–°å‚æ•°
        åˆ‡æ¢è¾…åŠ©çº¿
    ç‚¹å…‰æº PointLight
      åŸºç¡€å±æ€§
        é¢œè‰² color
        å¼ºåº¦ intensity
        è·ç¦» distance
        è¡°å‡ decay
      ä½ç½®
        position.x
        position.y
        position.z
      è¾…åŠ©
        PointLightHelper
      æ“ä½œ
        åˆ›å»º
        æ›´æ–°
        ç§»åŠ¨
    èšå…‰ç¯ SpotLight
      åŸºç¡€å±æ€§
        é¢œè‰² color
        å¼ºåº¦ intensity
        è§’åº¦ angle
      ç‰¹æ®Šå±æ€§
        åŠå½± penumbra
        èšç„¦ focus
        è·ç¦» distance
      ç›®æ ‡
        target.position
        lookAt
      é˜´å½±
        castShadow
        shadowé…ç½®
      è¾…åŠ©
        SpotLightHelper
```

### 3. åŠ¨ç”»ç³»ç»Ÿæ¶æ„

```mermaid
graph TB
    AnimSystem[åŠ¨ç”»ç³»ç»Ÿ]

    subgraph "åŠ¨ç”»æ’­æ”¾å™¨"
        Player1[AnimationMixer]
        Player2[AnimationAction]
        Player3[AnimationClip]
    end

    subgraph "æ’­æ”¾æ§åˆ¶"
        Ctrl1[play æ’­æ”¾]
        Ctrl2[pause æš‚åœ]
        Ctrl3[stop åœæ­¢]
        Ctrl4[reset é‡ç½®]
    end

    subgraph "åŠ¨ç”»é…ç½®"
        Cfg1[loop å¾ªç¯æ¨¡å¼]
        Cfg2[timeScale æ’­æ”¾é€Ÿåº¦]
        Cfg3[weight æƒé‡]
        Cfg4[clampWhenFinished]
    end

    subgraph "è½´æ—‹è½¬åŠ¨ç”»"
        Rot1[Xè½´æ—‹è½¬]
        Rot2[Yè½´æ—‹è½¬]
        Rot3[Zè½´æ—‹è½¬]
        Rot4[rotationSpeed]
    end

    subgraph "åŠ¨ç”»æ··åˆ"
        Mix1[å¤šåŠ¨ç”»æ··åˆ]
        Mix2[åŠ¨ç”»è¿‡æ¸¡]
        Mix3[åŠ¨ç”»æƒé‡]
    end

    AnimSystem --> Player1 & Player2 & Player3
    AnimSystem --> Ctrl1 & Ctrl2 & Ctrl3 & Ctrl4
    AnimSystem --> Cfg1 & Cfg2 & Cfg3 & Cfg4
    AnimSystem --> Rot1 & Rot2 & Rot3 & Rot4
    AnimSystem --> Mix1 & Mix2 & Mix3

    style AnimSystem fill:#ff6b6b,stroke:#333,stroke-width:3px
```

---

## ğŸ¨ ç¼–è¾‘å™¨åŠŸèƒ½å…¨æ™¯å›¾

### å®Œæ•´åŠŸèƒ½æ ‘çŠ¶å›¾

```mermaid
mindmap
  root((3Dæ¨¡å‹ç¼–è¾‘å™¨))
    æ¨¡å‹ç®¡ç†
      åŠ è½½
        å•æ¨¡å‹
        å¤šæ¨¡å‹
        å¤–éƒ¨ä¸Šä¼ 
        è¿›åº¦ç›‘æ§
      æ“ä½œ
        åˆ‡æ¢
        é€‰æ‹©
        åˆ é™¤
        å¤åˆ¶
      å¯¼å‡º
        GLB
        GLTF
        USDZ
        å°é¢æˆªå›¾
    èƒŒæ™¯ç³»ç»Ÿ
      ç±»å‹
        çº¯è‰²
        å›¾ç‰‡
        å…¨æ™¯å›¾
        HDR
        è§†é¢‘
      é…ç½®
        å¼ºåº¦
        æ¨¡ç³Šåº¦
        ç¯å¢ƒæ˜ å°„
    æè´¨ç³»ç»Ÿ
      ç±»å‹
        Basic
        Lambert
        Phong
        Standard
        Physical
        Toon
        Matcap
      å±æ€§
        é¢œè‰²
        é€æ˜åº¦
        çº¿æ¡†
        æ·±åº¦å†™å…¥
      è´´å›¾
        åŸºç¡€è´´å›¾
        æ³•çº¿è´´å›¾
        ç²—ç³™åº¦è´´å›¾
        é‡‘å±åº¦è´´å›¾
    ç¯å…‰ç³»ç»Ÿ
      ç¯å¢ƒå…‰
        é¢œè‰²
        å¼ºåº¦
      å¹³è¡Œå…‰
        é¢œè‰²å¼ºåº¦
        ä½ç½®
        é˜´å½±
        è¾…åŠ©çº¿
      ç‚¹å…‰æº
        é¢œè‰²å¼ºåº¦
        ä½ç½®è·ç¦»
        è¾…åŠ©çº¿
      èšå…‰ç¯
        é¢œè‰²å¼ºåº¦
        è§’åº¦
        åŠå½±
        é˜´å½±è¾…åŠ©çº¿
    åŠ¨ç”»ç³»ç»Ÿ
      æ’­æ”¾å™¨
        æ’­æ”¾
        æš‚åœ
        åœæ­¢
      é…ç½®
        å¾ªç¯æ¨¡å¼
        é€Ÿåº¦
        æƒé‡
      è½´æ—‹è½¬
        X/Y/Zè½´
        é€Ÿåº¦æ§åˆ¶
    åæœŸæ•ˆæœ
      è¾‰å…‰
        é˜ˆå€¼
        å¼ºåº¦
        åŠå¾„
        é¢œè‰²
      æ¨¡å‹åˆ†è§£
        åœ†å½¢åˆ†è§£
        è‡ªå®šä¹‰åˆ†è§£
        åŠ¨ç”»è¿‡æ¸¡
      æè´¨æ‹–æ‹½
        å¹³ç§»
        æ—‹è½¬
        ç¼©æ”¾
      å…¶ä»–
        è½®å»“é«˜äº®
        æŠ—é”¯é½¿
        è‰²è°ƒæ˜ å°„
    è¾…åŠ©å·¥å…·
      ç½‘æ ¼è¾…åŠ©çº¿
        å¤§å°
        åˆ†æ®µ
        é¢œè‰²
        ä½ç½®
      åæ ‡è½´
        å¤§å°
        æ˜¾éš
      å¹³é¢
        å¤§å°
        é¢œè‰²
        é˜´å½±
    å‡ ä½•ä½“ç³»ç»Ÿ
      ç±»å‹
        Box
        Sphere
        Cylinder
        Cone
        Torus
        Plane
      æ“ä½œ
        æ‹–æ‹½åˆ›å»º
        å‚æ•°ç¼–è¾‘
        ä½ç½®è°ƒæ•´
        åˆ é™¤
    3Dæ ‡ç­¾ç³»ç»Ÿ
      åˆ›å»º
        æ‹–æ‹½å®šä½
        å°„çº¿æ£€æµ‹
      ç¼–è¾‘
        å†…å®¹
        æ ·å¼
        ä½ç½®
      ç®¡ç†
        åˆ é™¤
        æ‰¹é‡æ“ä½œ
    å¤šæ¨¡å‹ç³»ç»Ÿ
      åŠ è½½
        æ‹–æ‹½æ·»åŠ 
        è‡ªåŠ¨å®šä½
      ç®¡ç†
        é€‰æ‹©
        åˆ é™¤
        æ‰¹é‡
      å˜æ¢
        ä½ç½®
        æ—‹è½¬
        ç¼©æ”¾
    ç€è‰²å™¨ç³»ç»Ÿ
      é¢„è®¾
        è­¦å‘Šç€è‰²å™¨
        ç½—ç›˜ç€è‰²å™¨
        é›·è¾¾ç€è‰²å™¨
        å…‰åœˆç€è‰²å™¨
        å¢™ä½“ç€è‰²å™¨
        é—ªçƒè­¦å‘Š
        åœ†åœˆå›´æ 
      ç®¡ç†
        æ‹–æ‹½åˆ›å»º
        å‚æ•°ç¼–è¾‘
        ç¼“å­˜ä¼˜åŒ–
    æ‹–æ‹½ç³»ç»Ÿ
      ç±»å‹
        æ¨¡å‹æ‹–æ‹½
        å‡ ä½•ä½“æ‹–æ‹½
        æ ‡ç­¾æ‹–æ‹½
        ç€è‰²å™¨æ‹–æ‹½
        æ¨¡å‹åº“æ‹–æ‹½
      æ ¸å¿ƒ
        æ‹–æ‹½å¼•æ“
        çŠ¶æ€ç®¡ç†
        äº‹ä»¶ç³»ç»Ÿ
      å·¥å…·
        ä½ç½®è®¡ç®—
        å°„çº¿æ£€æµ‹
        çº¦æŸç®¡ç†
        åŠ¨ç”»æ•ˆæœ
    äº¤äº’åŠŸèƒ½
      é€‰æ‹©
        å•é€‰
        å¤šé€‰
        æ¡†é€‰
      èœå•
        å³é”®èœå•
        ä¸Šä¸‹æ–‡æ“ä½œ
      å¿«æ·é”®
        Deleteåˆ é™¤
        Ctrl+Zæ’¤é”€
        Ctrl+Yé‡åš
        å…¶ä»–å¿«æ·é”®
      é¼ æ ‡
        ç‚¹å‡»
        åŒå‡»
        æ‚¬åœ
        æ»šè½®
```

---

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–å›¾

### 1. æ¸²æŸ“æ€§èƒ½ä¼˜åŒ–

```mermaid
flowchart TB
    Start([æ¸²æŸ“è¯·æ±‚]) --> Check{ä¼˜åŒ–æ£€æŸ¥}

    Check --> Frustum[è§†é”¥ä½“å‰”é™¤]
    Frustum --> NotVisible[ç§»é™¤ä¸å¯è§å¯¹è±¡]

    NotVisible --> LOD{LODæ£€æŸ¥}
    LOD --> SelectLOD[é€‰æ‹©åˆé€‚çš„ç»†èŠ‚å±‚æ¬¡]

    SelectLOD --> Instance{å®ä¾‹åŒ–æ£€æŸ¥}
    Instance -->|å¤šä¸ªç›¸åŒå¯¹è±¡| UseInstanced[ä½¿ç”¨InstancedMesh]
    Instance -->|å•ä¸ªå¯¹è±¡| NormalMesh[æ™®é€šMesh]

    UseInstanced & NormalMesh --> Material{æè´¨æ£€æŸ¥}
    Material --> ShareMaterial[æè´¨å¤ç”¨]

    ShareMaterial --> Geometry{å‡ ä½•ä½“æ£€æŸ¥}
    Geometry --> MergeGeometry[å‡ ä½•ä½“åˆå¹¶]

    MergeGeometry --> Texture{çº¹ç†æ£€æŸ¥}
    Texture --> CompressTexture[çº¹ç†å‹ç¼©KTX2]

    CompressTexture --> Render[æ‰§è¡Œæ¸²æŸ“]

    Render --> PostProcess{åæœŸå¤„ç†}
    PostProcess -->|å¼€å¯è¾‰å…‰| BloomRender[è¾‰å…‰æ¸²æŸ“]
    PostProcess -->|å…³é—­è¾‰å…‰| DirectRender[ç›´æ¥æ¸²æŸ“]

    BloomRender & DirectRender --> Output[è¾“å‡ºåˆ°Canvas]

    Output --> RAF[requestAnimationFrame]
    RAF --> Start

    style Start fill:#ffd93d
    style Render fill:#51cf66
    style Output fill:#74c0fc
```

### 2. å†…å­˜ä¼˜åŒ–ç­–ç•¥

```mermaid
graph TB
    Memory[å†…å­˜ä¼˜åŒ–]

    subgraph "Three.jså¯¹è±¡"
        T1[shallowRefå­˜å‚¨<br/>é¿å…æ·±åº¦å“åº”å¼]
        T2[åŠæ—¶dispose<br/>é‡Šæ”¾GPUèµ„æº]
        T3[å¯¹è±¡æ± <br/>å¤ç”¨å¯¹è±¡]
    end

    subgraph "è´´å›¾èµ„æº"
        TX1[çº¹ç†å‹ç¼©]
        TX2[Mipmapsç”Ÿæˆ]
        TX3[æŒ‰éœ€åŠ è½½]
        TX4[ç¼“å­˜ç­–ç•¥]
    end

    subgraph "æ¨¡å‹èµ„æº"
        M1[DRACOå‹ç¼©]
        M2[å‡ ä½•ä½“ç®€åŒ–]
        M3[LODå±‚æ¬¡]
        M4[æ‡’åŠ è½½]
    end

    subgraph "Vueå“åº”å¼"
        V1[shallowReactive]
        V2[markRawæ ‡è®°]
        V3[é¿å…æ·±åº¦watch]
    end

    Memory --> T1 & T2 & T3
    Memory --> TX1 & TX2 & TX3 & TX4
    Memory --> M1 & M2 & M3 & M4
    Memory --> V1 & V2 & V3

    style Memory fill:#ff6b6b,stroke:#333,stroke-width:3px
```

---

## ğŸ”§ æœåŠ¡æ¶æ„å›¾

### 1. æœåŠ¡å±‚æ¶æ„

```mermaid
graph TB
    subgraph "Three.js Services"
        TS1[LoaderService<br/>åŠ è½½æœåŠ¡]
        TS2[ExporterService<br/>å¯¼å‡ºæœåŠ¡]
        TS3[HelperService<br/>è¾…åŠ©æœåŠ¡]
    end

    subgraph "Storage Services"
        SS1[LocalStorageService<br/>æœ¬åœ°å­˜å‚¨]
        SS2[SessionStorageService<br/>ä¼šè¯å­˜å‚¨]
        SS3[IndexedDBService<br/>æ•°æ®åº“æœåŠ¡]
        SS4[CacheService<br/>ç¼“å­˜æœåŠ¡]
    end

    subgraph "Event Services"
        ES1[EventBus<br/>äº‹ä»¶æ€»çº¿]
        ES2[EventEmitter<br/>äº‹ä»¶å‘å°„å™¨]
    end

    subgraph "API Services"
        AS1[ModelAPIService]
        AS2[ResourceAPIService]
    end

    TS1 --> TS3
    TS2 --> TS3

    SS1 --> SS4
    SS2 --> SS4
    SS3 --> SS4

    ES1 --> ES2

    style TS1 fill:#51cf66
    style SS1 fill:#74c0fc
    style ES1 fill:#ffd93d
    style AS1 fill:#ff9ff3
```

### 2. äº‹ä»¶ç³»ç»Ÿæ¶æ„

```mermaid
graph LR
    subgraph "äº‹ä»¶å‘å¸ƒè€…"
        EP1[Composables]
        EP2[Stores]
        EP3[Services]
    end

    EventBus[EventBus<br/>ç±»å‹åŒ–äº‹ä»¶æ€»çº¿]

    subgraph "äº‹ä»¶ç±»å‹"
        ET1[SceneEvents<br/>åœºæ™¯äº‹ä»¶]
        ET2[DragEvents<br/>æ‹–æ‹½äº‹ä»¶]
        ET3[EditorEvents<br/>ç¼–è¾‘å™¨äº‹ä»¶]
        ET4[SelectionEvents<br/>é€‰æ‹©äº‹ä»¶]
        ET5[HistoryEvents<br/>å†å²äº‹ä»¶]
    end

    subgraph "äº‹ä»¶è®¢é˜…è€…"
        ES1[Components]
        ES2[Composables]
        ES3[Stores]
    end

    EP1 & EP2 & EP3 --> EventBus
    EventBus --> ET1 & ET2 & ET3 & ET4 & ET5
    ET1 & ET2 & ET3 & ET4 & ET5 --> ES1 & ES2 & ES3

    style EventBus fill:#ff6b6b,stroke:#333,stroke-width:4px
```

---

## ğŸ“¦ æ‰“åŒ…éƒ¨ç½²å›¾

### 1. æ„å»ºæµç¨‹

```mermaid
flowchart LR
    Source[æºä»£ç ] --> Vite{Viteæ„å»º}

    Vite --> TypeCheck[ç±»å‹æ£€æŸ¥<br/>vue-tsc]
    Vite --> Lint[ä»£ç æ£€æŸ¥<br/>ESLint]
    Vite --> Build[æ‰“åŒ…æ„å»º]

    TypeCheck --> Pass1{é€šè¿‡?}
    Lint --> Pass2{é€šè¿‡?}

    Pass1 -->|æ˜¯| Continue1
    Pass1 -->|å¦| Error1[ä¸­æ­¢æ„å»º]

    Pass2 -->|æ˜¯| Continue2
    Pass2 -->|å¦| Error2[ä¸­æ­¢æ„å»º]

    Continue1 & Continue2 --> Build

    Build --> Optimize[ä¼˜åŒ–]

    Optimize --> TreeShake[Tree Shaking]
    Optimize --> CodeSplit[ä»£ç åˆ†å‰²]
    Optimize --> Compress[å‹ç¼©]
    Optimize --> MinifyCSS[CSSå‹ç¼©]

    TreeShake & CodeSplit & Compress & MinifyCSS --> Output[è¾“å‡ºdist/]

    Output --> Chunks[chunks/]
    Output --> Assets[assets/]
    Output --> Index[index.html]

    style Vite fill:#646cff
    style Build fill:#51cf66
    style Output fill:#ffd93d
```

### 2. éƒ¨ç½²æ¶æ„

```mermaid
graph TB
    Git[Git Repository] --> CI[CI/CD Pipeline]

    CI --> Test[è¿è¡Œæµ‹è¯•]
    Test --> Build[æ„å»ºç”Ÿäº§ç‰ˆæœ¬]
    Build --> Deploy[éƒ¨ç½²]

    Deploy --> Static[é™æ€èµ„æºæœåŠ¡å™¨]
    Deploy --> CDN[CDNåˆ†å‘]

    Static --> HTML[index.html]
    CDN --> JS[JavaScript Chunks]
    CDN --> CSS[CSSæ–‡ä»¶]
    CDN --> Assets[å›¾ç‰‡/æ¨¡å‹/ç€è‰²å™¨]

    HTML --> Browser[æµè§ˆå™¨]
    JS --> Browser
    CSS --> Browser
    Assets --> Browser

    Browser --> LoadApp[åŠ è½½åº”ç”¨]
    LoadApp --> InitVue[åˆå§‹åŒ–Vue]
    InitVue --> InitThree[åˆå§‹åŒ–Three.js]
    InitThree --> Ready[åº”ç”¨å°±ç»ª]

    style CI fill:#ff6b6b
    style Deploy fill:#51cf66
    style Browser fill:#74c0fc
    style Ready fill:#ffd93d
```

---

## ğŸ¯ ç”¨æˆ·äº¤äº’å›¾

### å®Œæ•´ç”¨æˆ·æ“ä½œæµç¨‹

```mermaid
journey
    title ç”¨æˆ·ä½¿ç”¨3Dç¼–è¾‘å™¨çš„å…¸å‹æµç¨‹
    section å¯åŠ¨
      æ‰“å¼€ç¼–è¾‘å™¨: 5: ç”¨æˆ·
      åŠ è½½é»˜è®¤æ¨¡å‹: 3: ç³»ç»Ÿ
      åˆå§‹åŒ–åœºæ™¯: 3: ç³»ç»Ÿ
    section ç¼–è¾‘
      é€‰æ‹©ç¼–è¾‘æ¨¡å¼: 5: ç”¨æˆ·
      åˆ‡æ¢æ¨¡å‹: 4: ç”¨æˆ·
      è°ƒæ•´æè´¨: 5: ç”¨æˆ·
      è®¾ç½®ç¯å…‰: 4: ç”¨æˆ·
      æ·»åŠ æ ‡ç­¾: 4: ç”¨æˆ·
    section é«˜çº§
      æ‹–æ‹½å¤šæ¨¡å‹: 5: ç”¨æˆ·
      å¯ç”¨è¾‰å…‰æ•ˆæœ: 5: ç”¨æˆ·
      æ·»åŠ ç€è‰²å™¨: 4: ç”¨æˆ·
      æ¨¡å‹åˆ†è§£: 5: ç”¨æˆ·
    section å¯¼å‡º
      é¢„è§ˆæ•ˆæœ: 5: ç”¨æˆ·
      ä¿å­˜é…ç½®: 4: ç”¨æˆ·
      å¯¼å‡ºæ¨¡å‹: 5: ç”¨æˆ·
      ç”ŸæˆåµŒå…¥ä»£ç : 4: ç”¨æˆ·
```

---

## ğŸ“Š æ€§èƒ½ç›‘æ§å›¾

### æ€§èƒ½æŒ‡æ ‡ä»ªè¡¨æ¿

```mermaid
graph TB
    Monitor[æ€§èƒ½ç›‘æ§]

    subgraph "æ¸²æŸ“æ€§èƒ½"
        R1[FPS<br/>ç›®æ ‡: >60]
        R2[æ¸²æŸ“æ—¶é—´<br/>ç›®æ ‡: <16ms]
        R3[Draw Calls<br/>ç›®æ ‡: <100]
    end

    subgraph "å†…å­˜ä½¿ç”¨"
        M1[å †å†…å­˜<br/>ç›®æ ‡: <200MB]
        M2[GPUå†…å­˜<br/>ç›®æ ‡: <512MB]
        M3[çº¹ç†å†…å­˜<br/>ç›®æ ‡: <100MB]
    end

    subgraph "åŠ è½½æ€§èƒ½"
        L1[é¦–å±æ—¶é—´<br/>ç›®æ ‡: <3s]
        L2[æ¨¡å‹åŠ è½½<br/>ç›®æ ‡: <5s]
        L3[èµ„æºåŠ è½½<br/>ç›®æ ‡: <2s]
    end

    subgraph "ç”¨æˆ·ä½“éªŒ"
        U1[äº¤äº’å“åº”<br/>ç›®æ ‡: <100ms]
        U2[æ‹–æ‹½æµç•…åº¦<br/>ç›®æ ‡: 60fps]
        U3[åˆ‡æ¢å»¶è¿Ÿ<br/>ç›®æ ‡: <200ms]
    end

    Monitor --> R1 & R2 & R3
    Monitor --> M1 & M2 & M3
    Monitor --> L1 & L2 & L3
    Monitor --> U1 & U2 & U3

    style Monitor fill:#ff6b6b,stroke:#333,stroke-width:3px
    style R1 fill:#51cf66
    style M1 fill:#74c0fc
    style L1 fill:#ffd93d
    style U1 fill:#ff9ff3
```

---

## ğŸ” å®‰å…¨æ¶æ„å›¾

### æ•°æ®å®‰å…¨ä¸éªŒè¯

```mermaid
graph TB
    Input[ç”¨æˆ·è¾“å…¥] --> Validation{æ•°æ®éªŒè¯}

    Validation -->|æ–‡ä»¶ä¸Šä¼ | FileCheck[æ–‡ä»¶ç±»å‹æ£€æŸ¥]
    Validation -->|å‚æ•°è¾“å…¥| ParamCheck[å‚æ•°èŒƒå›´æ£€æŸ¥]
    Validation -->|æ‹–æ‹½æ“ä½œ| DragCheck[ä½ç½®æœ‰æ•ˆæ€§æ£€æŸ¥]

    FileCheck --> SizeLimit{å¤§å°é™åˆ¶}
    SizeLimit -->|è¶…é™| Reject1[æ‹’ç»]
    SizeLimit -->|é€šè¿‡| TypeCheck{ç±»å‹æ£€æŸ¥}
    TypeCheck -->|ä¸æ”¯æŒ| Reject2[æ‹’ç»]
    TypeCheck -->|æ”¯æŒ| Accept1[æ¥å—]

    ParamCheck --> RangeCheck{èŒƒå›´æ£€æŸ¥}
    RangeCheck -->|è¶…å‡ºèŒƒå›´| Reject3[æ‹’ç»]
    RangeCheck -->|åˆæ³•| Accept2[æ¥å—]

    DragCheck --> RaycastCheck{å°„çº¿æ£€æµ‹}
    RaycastCheck -->|æ— æ•ˆä½ç½®| Reject4[è­¦å‘Š]
    RaycastCheck -->|æœ‰æ•ˆ| Accept3[æ¥å—]

    Accept1 & Accept2 & Accept3 --> Sanitize[æ•°æ®æ¸…ç†]
    Sanitize --> Store[å­˜å‚¨åˆ°Store]

    Reject1 & Reject2 & Reject3 & Reject4 --> ShowError[æ˜¾ç¤ºé”™è¯¯æç¤º]

    style Input fill:#ffd93d
    style Validation fill:#74c0fc
    style Store fill:#51cf66
    style ShowError fill:#ff6b6b
```

---

## ğŸ¨ ä¸»é¢˜ä¸æ ·å¼æ¶æ„

### UIä¸»é¢˜ç³»ç»Ÿ

```mermaid
graph LR
    Theme[ä¸»é¢˜ç³»ç»Ÿ]

    subgraph "é¢œè‰²å˜é‡"
        C1[--primary-color]
        C2[--bg-color]
        C3[--text-color]
        C4[--border-color]
        C5[--hover-color]
    end

    subgraph "ç»„ä»¶æ ·å¼"
        S1[Toolbaræ ·å¼]
        S2[Panelæ ·å¼]
        S3[Canvasæ ·å¼]
        S4[Buttonæ ·å¼]
    end

    subgraph "ä¸»é¢˜æ¨¡å¼"
        M1[Light Mode]
        M2[Dark Mode]
    end

    Theme --> C1 & C2 & C3 & C4 & C5
    C1 & C2 & C3 & C4 & C5 --> S1 & S2 & S3 & S4
    M1 & M2 --> Theme

    style Theme fill:#ff6b6b,stroke:#333,stroke-width:3px
```

---

## ğŸ¯ æ€»ç»“å›¾

### æ¶æ„æ¼”è¿›å¯¹æ¯”

```mermaid
timeline
    title æ¶æ„æ¼”è¿›æ—¶é—´çº¿
    section åŸæ¶æ„
        JavaScript : æ— ç±»å‹å®‰å…¨
        Options API : ä»£ç ç»„ç»‡æ€§å·®
        å•ä¸€ç±» : renderModel 976è¡Œ
        çŠ¶æ€åˆ†æ•£ : 3å¤„ä¸åŒä½ç½®
        æ‹–æ‹½æ··ä¹± : 5+ä¸ªæ–‡ä»¶åˆ†æ•£
    section æ–°æ¶æ„
        TypeScript : 100%ç±»å‹è¦†ç›–
        Composition API : script setupè¯­æ³•
        æ¨¡å—åŒ– : 84ä¸ªComposables
        ç»Ÿä¸€çŠ¶æ€ : 13ä¸ªPinia Stores
        æ‹–æ‹½ç³»ç»Ÿ : 15ä¸ªæ¨¡å—ç»Ÿä¸€æ¶æ„
```

### æœ€ç»ˆæ¶æ„ä»·å€¼å›¾

```mermaid
mindmap
  root((æ¶æ„ä»·å€¼))
    å¼€å‘æ•ˆç‡
      ä»£ç æç¤ºå®Œå–„
      ç±»å‹æ£€æŸ¥è‡ªåŠ¨
      çƒ­æ›´æ–°å¿«é€Ÿ
      å¼€å‘ä½“éªŒä¼˜ç§€
    ä»£ç è´¨é‡
      æ¨¡å—åŒ–æ¸…æ™°
      èŒè´£å•ä¸€
      å¯è¯»æ€§å¼º
      å¯ç»´æŠ¤æ€§é«˜
    ç³»ç»Ÿæ€§èƒ½
      æ¸²æŸ“ä¼˜åŒ–
      å†…å­˜ä¼˜åŒ–
      åŠ è½½ä¼˜åŒ–
      äº¤äº’æµç•…
    å›¢é˜Ÿåä½œ
      æ˜“äºç†è§£
      æ˜“äºæµ‹è¯•
      æ˜“äºæ‰©å±•
      æ˜“äºç»´æŠ¤
    å•†ä¸šä»·å€¼
      å¼€å‘æˆæœ¬é™ä½
      ç»´æŠ¤æˆæœ¬é™ä½
      Bugç‡é™ä½
      ç”¨æˆ·ä½“éªŒæå‡
```

---

## ğŸ“ å›¾è¡¨ç´¢å¼•

æœ¬æ–‡æ¡£åŒ…å«çš„æ‰€æœ‰å›¾è¡¨:

| å›¾è¡¨ç¼–å· | å›¾è¡¨åç§°         | ç±»å‹       | ä½œç”¨                |
| -------- | ---------------- | ---------- | ------------------- |
| 1.1      | ç³»ç»Ÿä¸Šä¸‹æ–‡å›¾     | C4 Context | å±•ç¤ºç³»ç»Ÿè¾¹ç•Œ        |
| 1.2      | å…­å±‚æ¶æ„å…¨æ™¯     | æ¶æ„å›¾     | å±•ç¤ºåˆ†å±‚æ¶æ„        |
| 2.1      | Composablesç”Ÿæ€  | æ¨¡å—å›¾     | å±•ç¤ºComposableså…³ç³» |
| 2.2      | Pinia Storesæ¶æ„ | ä¾èµ–å›¾     | å±•ç¤ºStoreä¾èµ–       |
| 3.1      | æ‹–æ‹½ç³»ç»Ÿæ¶æ„     | æ¶æ„å›¾     | å±•ç¤ºæ‹–æ‹½æ¨¡å—        |
| 3.2      | æ‹–æ‹½ç±»å‹æµç¨‹     | çŠ¶æ€å›¾     | å±•ç¤ºæ‹–æ‹½çŠ¶æ€æœº      |
| 3.3      | æ‹–æ‹½äº¤äº’æ—¶åº     | æ—¶åºå›¾     | å±•ç¤ºäº¤äº’æµç¨‹        |
| 4.1      | å®Œæ•´æ•°æ®æµ       | æµç¨‹å›¾     | å±•ç¤ºæ•°æ®æµå‘        |
| 4.2      | çŠ¶æ€æ›´æ–°æµç¨‹     | æ—¶åºå›¾     | å±•ç¤ºçŠ¶æ€æ›´æ–°        |
| 5.1      | Composablesä¾èµ–  | ä¾èµ–å›¾     | å±•ç¤ºæ¨¡å—ä¾èµ–        |
| 5.2      | Storeä¾èµ–å…³ç³»    | ä¾èµ–å›¾     | å±•ç¤ºStoreä¾èµ–       |
| 6.1      | æ¨¡å‹åŠ è½½æµç¨‹     | æµç¨‹å›¾     | å±•ç¤ºåŠ è½½è¿‡ç¨‹        |
| 6.2      | æè´¨ç¼–è¾‘æµç¨‹     | æµç¨‹å›¾     | å±•ç¤ºç¼–è¾‘è¿‡ç¨‹        |
| 6.3      | è¾‰å…‰æ¸²æŸ“æµç¨‹     | æµç¨‹å›¾     | å±•ç¤ºæ¸²æŸ“è¿‡ç¨‹        |
| 7.1      | ç»„ä»¶å±‚æ¬¡æ ‘       | æ ‘å½¢å›¾     | å±•ç¤ºç»„ä»¶ç»“æ„        |
| 7.2      | ç¼–è¾‘é¢æ¿å…³ç³»     | å…³ç³»å›¾     | å±•ç¤ºé¢æ¿ç»„æˆ        |
| 8.1      | åœºæ™¯å¯¹è±¡å±‚æ¬¡     | æ ‘å½¢å›¾     | å±•ç¤ºThree.jsåœºæ™¯    |
| 8.2      | æ¸²æŸ“ç®¡çº¿         | æµç¨‹å›¾     | å±•ç¤ºæ¸²æŸ“æµç¨‹        |
| 9.1      | æè´¨ç³»ç»Ÿ         | æ¶æ„å›¾     | å±•ç¤ºæè´¨æ¨¡å—        |
| 9.2      | ç¯å…‰ç³»ç»Ÿ         | æ€ç»´å¯¼å›¾   | å±•ç¤ºç¯å…‰åŠŸèƒ½        |
| 9.3      | åŠ¨ç”»ç³»ç»Ÿ         | æ¶æ„å›¾     | å±•ç¤ºåŠ¨ç”»æ¨¡å—        |
| 10.1     | åŠŸèƒ½æ ‘çŠ¶å›¾       | æ€ç»´å¯¼å›¾   | å±•ç¤ºæ‰€æœ‰åŠŸèƒ½        |
| 11.1     | æ¸²æŸ“ä¼˜åŒ–         | æµç¨‹å›¾     | å±•ç¤ºä¼˜åŒ–ç­–ç•¥        |
| 11.2     | å†…å­˜ä¼˜åŒ–         | æ¶æ„å›¾     | å±•ç¤ºå†…å­˜ç®¡ç†        |
| 12.1     | æœåŠ¡å±‚æ¶æ„       | æ¶æ„å›¾     | å±•ç¤ºæœåŠ¡æ¨¡å—        |
| 12.2     | äº‹ä»¶ç³»ç»Ÿ         | æ¶æ„å›¾     | å±•ç¤ºäº‹ä»¶æµ          |
| 13.1     | æ„å»ºæµç¨‹         | æµç¨‹å›¾     | å±•ç¤ºæ„å»ºè¿‡ç¨‹        |
| 13.2     | éƒ¨ç½²æ¶æ„         | æ¶æ„å›¾     | å±•ç¤ºéƒ¨ç½²æµç¨‹        |
| 14.1     | ç”¨æˆ·æ—…ç¨‹         | Journey    | å±•ç¤ºç”¨æˆ·æµç¨‹        |
| 15.1     | æ€§èƒ½ç›‘æ§         | ä»ªè¡¨æ¿     | å±•ç¤ºæ€§èƒ½æŒ‡æ ‡        |
| 16.1     | å®‰å…¨éªŒè¯         | æµç¨‹å›¾     | å±•ç¤ºå®‰å…¨æµç¨‹        |
| 17.1     | ä¸»é¢˜ç³»ç»Ÿ         | æ¶æ„å›¾     | å±•ç¤ºä¸»é¢˜ç®¡ç†        |
| 18.1     | æ¶æ„æ¼”è¿›         | æ—¶é—´çº¿     | å±•ç¤ºæ¼”è¿›è¿‡ç¨‹        |
| 18.2     | æ¶æ„ä»·å€¼         | æ€ç»´å¯¼å›¾   | å±•ç¤ºæ ¸å¿ƒä»·å€¼        |

**æ€»è®¡**: 32ä¸ªå¯è§†åŒ–å›¾è¡¨

---

## ğŸ¯ å¦‚ä½•ä½¿ç”¨æœ¬æ–‡æ¡£

### ä¸åŒè§’è‰²çš„é˜…è¯»å»ºè®®

| è§’è‰²             | æ¨èå›¾è¡¨             | é˜…è¯»é‡ç‚¹              |
| ---------------- | -------------------- | --------------------- |
| **æ¶æ„å¸ˆ**       | 1.1, 1.2, 2.1, 2.2   | æ•´ä½“æ¶æ„å’Œæ¨¡å—è®¾è®¡    |
| **å‰ç«¯å¼€å‘**     | 2.1, 5.1, 7.1, 10.1  | Composableså’Œç»„ä»¶å…³ç³» |
| **Three.jså¼€å‘** | 8.1, 8.2, 9.1        | åœºæ™¯ç»“æ„å’Œæ¸²æŸ“æµç¨‹    |
| **æµ‹è¯•å·¥ç¨‹å¸ˆ**   | 6.1, 6.2, 14.1       | åŠŸèƒ½æµç¨‹å’Œç”¨æˆ·æ—…ç¨‹    |
| **é¡¹ç›®ç»ç†**     | 18.1, 18.2           | æ¶æ„æ¼”è¿›å’Œå•†ä¸šä»·å€¼    |
| **æ–°æˆå‘˜**       | 1.1, 1.2, 10.1, 14.1 | ç³»ç»Ÿå…¨æ™¯å’ŒåŠŸèƒ½æ ‘      |

---

## ğŸ“ æ€»ç»“

æœ¬æ–‡æ¡£é€šè¿‡**32ä¸ªå¯è§†åŒ–å›¾è¡¨**å…¨æ–¹ä½å±•ç¤ºäº†:

- âœ… ç³»ç»Ÿå…¨æ™¯å’Œåˆ†å±‚æ¶æ„
- âœ… æ ¸å¿ƒæ¨¡å—å’Œä¾èµ–å…³ç³»
- âœ… æ‹–æ‹½ç³»ç»Ÿå®Œæ•´è®¾è®¡
- âœ… æ•°æ®æµå’Œäº¤äº’æµç¨‹
- âœ… ç»„ä»¶ç»“æ„å’ŒThree.jsåœºæ™¯
- âœ… å„åŠŸèƒ½å­ç³»ç»Ÿè¯¦ç»†è®¾è®¡
- âœ… æ€§èƒ½ä¼˜åŒ–ç­–ç•¥
- âœ… éƒ¨ç½²å’Œå®‰å…¨æ¶æ„

**é€šè¿‡å›¾å½¢åŒ–çš„æ–¹å¼ï¼Œè®©å¤æ‚çš„æ¶æ„è®¾è®¡ä¸€ç›®äº†ç„¶ï¼**
